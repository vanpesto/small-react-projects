(this["webpackJsonpauth-development"]=this["webpackJsonpauth-development"]||[]).push([[0],{23:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),s=c(24),i=c.n(s),o=c(6),u=c(3),l=c(4),j=c(25),d=(c(33),j.a.initializeApp({apiKey:"AIzaSyA5SkY3x5JrDdeui5a21qBA_i3BhrMgXdU",authDomain:"auth-development-6df4e.firebaseapp.com",projectId:"auth-development-6df4e",storageBucket:"auth-development-6df4e.appspot.com",messagingSenderId:"822536297998",appId:"1:822536297998:web:66a5635d3452d49a96e65f"})),b=d.auth(),p=r.a.createContext();function O(){return Object(a.useContext)(p)}function h(e){var t=e.children,c=Object(a.useState)(),r=Object(l.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(!0),u=Object(l.a)(o,2),j=u[0],d=u[1];Object(a.useEffect)((function(){return b.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var O={currentUser:s,signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},login:function(e,t){return b.signInWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updatePassword:function(e){return s.updatePassword(e)},updateEmail:function(e){return s.updateEmail(e)}};return Object(n.jsx)(p.Provider,{value:O,children:!j&&t})}var m=c(11),f=c.n(m),x=c(13);var v=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],s=O(),i=s.currentUser,j=s.logout,d=Object(u.g)();function b(){return(b=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,j();case 4:d.pushState("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"account",children:Object(n.jsxs)("div",{className:"account-container",children:[c&&Object(n.jsx)("p",{children:c}),Object(n.jsx)("h3",{children:"Profile"}),Object(n.jsxs)("p",{className:"profile-email",children:[Object(n.jsx)("span",{style:{fontWeight:"900"},children:"Email:"})," ",i.email]}),Object(n.jsx)(o.b,{className:"profile-update-btn",to:"updateProfile",children:"Update Profile"}),Object(n.jsx)("button",{className:"logout-btn",onClick:function(){return b.apply(this,arguments)},children:"Log Out"})]})})};var g=function(){var e=Object(a.useRef)(),t=O().resetPassword,c=Object(a.useState)(""),r=Object(l.a)(c,2),s=r[0],i=r[1],u=Object(a.useState)(!1),j=Object(l.a)(u,2),d=j[0],b=j[1],p=Object(a.useState)(""),h=Object(l.a)(p,2),m=h[0],v=h[1],g=function(){var c=Object(x.a)(f.a.mark((function c(n){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,v(""),i(""),b(!0),c.next=7,t(e.current.value);case 7:v("Check your email for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),i("Failed to reset password");case 13:b(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"account",children:Object(n.jsxs)("div",{className:"account-container",children:[Object(n.jsx)("h3",{children:"Password Rest"}),s&&Object(n.jsx)("p",{className:"form-error",children:s}),m&&Object(n.jsx)("p",{className:"account-message",children:m}),Object(n.jsxs)("form",{className:"account-form",onSubmit:g,children:[Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",placeholder:"email",ref:e,required:!0})]}),Object(n.jsx)("button",{disabled:d,className:"form-btn",type:"submit",children:"Reset Password"}),Object(n.jsx)(o.b,{className:"acc-link",to:"/login",children:"Login"})]}),Object(n.jsxs)("div",{className:"acc-link",children:["Need an account?",Object(n.jsx)(o.b,{to:"/signup",children:"Sign up"})]})]})})};var N=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=O().login,r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),p=b[0],h=b[1],m=Object(u.g)(),v=function(){var n=Object(x.a)(f.a.mark((function n(a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,j(""),h(!0),n.next=6,c(e.current.value,t.current.value);case 6:m.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),j("Wrong username or password");case 12:h(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"account",children:Object(n.jsxs)("div",{className:"account-container",children:[Object(n.jsx)("h3",{children:"Log In"}),i&&Object(n.jsx)("p",{className:"form-error",children:i}),Object(n.jsxs)("form",{className:"account-form",onSubmit:v,children:[Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",placeholder:"email",ref:e})]}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",placeholder:"password",ref:t})]}),Object(n.jsx)("button",{disabled:p,className:"form-btn",type:"submit",children:"Log In"}),Object(n.jsx)(o.b,{className:"forgot-password",to:"forgotPassword",children:"Forgot Password"})]}),Object(n.jsxs)("div",{className:"acc-link",children:["Need an account? ",Object(n.jsx)(o.b,{to:"/signup",children:" Sign up"})]})]})})},w=c(16),P=c(27);function S(e){var t=e.component,c=Object(P.a)(e,["component"]),a=O().currentUser;return Object(n.jsx)(u.b,Object(w.a)(Object(w.a)({},c),{},{render:function(e){return a?Object(n.jsx)(t,Object(w.a)({},e)):Object(n.jsx)(u.a,{to:"/login"})}}))}c(23);var y=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),r=O().signup,s=Object(a.useState)(""),i=Object(l.a)(s,2),j=i[0],d=i[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),h=p[0],m=p[1],v=Object(a.useState)(!1),g=Object(l.a)(v,2),N=g[0],w=g[1],P=Object(u.g)(),S=function(){var n=Object(x.a)(f.a.mark((function n(a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",d("Passwords do not match"));case 3:return n.prev=3,m(""),d(""),w(!0),n.next=9,r(e.current.value,t.current.value);case 9:m("Your account has been created successfully!"),setTimeout((function(){P.push("/")}),1e3),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),d("Failed to create an account");case 16:w(!1);case 17:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e){return n.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"account",children:Object(n.jsxs)("div",{className:"account-container",children:[Object(n.jsx)("h3",{children:"Sign Up"}),j&&Object(n.jsx)("p",{className:"form-error",children:j}),h&&Object(n.jsx)("p",{className:"account-message",children:h}),Object(n.jsxs)("form",{className:"account-form",onSubmit:S,children:[Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",placeholder:"email",ref:e,required:!0})]}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",placeholder:"password",ref:t,required:!0})]}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",placeholder:"confirm password",ref:c,required:!0})]}),Object(n.jsx)("button",{disabled:N,className:"form-btn",type:"submit",children:"Register"})]}),Object(n.jsxs)("div",{className:"acc-link",children:["Already have an account? ",Object(n.jsx)(o.b,{to:"/login",children:" Log In"})]})]})})};var k=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),r=O(),s=r.currentUser,i=r.updateEmail,j=r.updatePassword,d=Object(a.useState)(""),b=Object(l.a)(d,2),p=b[0],h=b[1],m=Object(a.useState)(!1),f=Object(l.a)(m,2),x=f[0],v=f[1],g=Object(u.g)();return Object(n.jsx)("div",{className:"account",children:Object(n.jsxs)("div",{className:"account-container",children:[Object(n.jsx)("h3",{children:"Update Profile"}),p&&Object(n.jsx)("p",{className:"form-error",children:p}),Object(n.jsxs)("form",{className:"account-form",onSubmit:function(n){if(n.preventDefault(),t.current.value!==c.current.value)return h("Passwords do not match");var a=[];e.current.value!==s.email&&a.push(i(e.current.value)),t.current.value&&a.push(j(t.current.value)),Promise.all(a).then((function(){g.push("/")})).catch((function(){h("Failed to update account")})).finally((function(){v(!1)}))},children:[Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"text",placeholder:"email",ref:e,defaultValue:s.email})]}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(n.jsxs)("div",{className:"input-container",children:[Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",ref:c,placeholder:"Leave blank to keep the same"})]}),Object(n.jsx)("button",{disabled:x,className:"form-btn",type:"submit",children:"Update"})]}),Object(n.jsx)("div",{className:"acc-link-container",children:Object(n.jsx)(o.b,{className:"acc-link",to:"/",children:"Cancel"})})]})})};var E=function(){return Object(n.jsx)(o.a,{children:Object(n.jsx)(u.d,{children:Object(n.jsxs)(h,{children:[Object(n.jsx)(S,{exact:!0,path:"/",component:v}),Object(n.jsx)(S,{exact:!0,path:"/updateProfile",component:k}),Object(n.jsx)(u.b,{exact:!0,path:"/signup",component:y}),Object(n.jsx)(u.b,{path:"/login",component:N}),Object(n.jsx)(u.b,{path:"/forgotPassword",component:g})]})})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),R()}},[[40,1,2]]]);
//# sourceMappingURL=main.fb8e300d.chunk.js.map